<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="You see, I like to spend my free time building a programming language called [**Rift**](https://github.com/PipeRift/rift). This surely wasn&amp;rsquo;t ambitious enough, so early on I designed it to be based on data files.
This basically means code files are not saved as text, but stored as data in some format like json or binary, and interpreted by an editor/compiler later. Of course, there are many advantages and some disadvantages to this approach, but I will only focus on the serialization aspect of it today."><meta name=keywords content="muitxer,homepage,blog,portfolio,unreal engine,C++,Rust,piperift"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://muit.xyz/drafts/posts/text-and-binary-at-once/><title>Text and Binary serialization at once :: Miguel Fernandez Arce</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/drafts/main.css><meta itemprop=name content="Text and Binary serialization at once"><meta itemprop=description content="You see, I like to spend my free time building a programming language called [**Rift**](https://github.com/PipeRift/rift). This surely wasn&rsquo;t ambitious enough, so early on I designed it to be based on data files.
This basically means code files are not saved as text, but stored as data in some format like json or binary, and interpreted by an editor/compiler later. Of course, there are many advantages and some disadvantages to this approach, but I will only focus on the serialization aspect of it today."><meta itemprop=datePublished content="2022-04-30T00:00:00+00:00"><meta itemprop=dateModified content="2022-04-30T00:00:00+00:00"><meta itemprop=wordCount content="287"><meta itemprop=image content="https://muit.xyz/drafts"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://muit.xyz/drafts"><meta name=twitter:title content="Text and Binary serialization at once"><meta name=twitter:description content="You see, I like to spend my free time building a programming language called [**Rift**](https://github.com/PipeRift/rift). This surely wasn&rsquo;t ambitious enough, so early on I designed it to be based on data files.
This basically means code files are not saved as text, but stored as data in some format like json or binary, and interpreted by an editor/compiler later. Of course, there are many advantages and some disadvantages to this approach, but I will only focus on the serialization aspect of it today."><meta property="og:title" content="Text and Binary serialization at once"><meta property="og:description" content="You see, I like to spend my free time building a programming language called [**Rift**](https://github.com/PipeRift/rift). This surely wasn&rsquo;t ambitious enough, so early on I designed it to be based on data files.
This basically means code files are not saved as text, but stored as data in some format like json or binary, and interpreted by an editor/compiler later. Of course, there are many advantages and some disadvantages to this approach, but I will only focus on the serialization aspect of it today."><meta property="og:type" content="article"><meta property="og:url" content="https://muit.xyz/drafts/posts/text-and-binary-at-once/"><meta property="og:image" content="https://muit.xyz/drafts"><meta property="article:section" content="Posts"><meta property="article:published_time" content="2022-04-30T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-30T00:00:00+00:00"><meta property="article:published_time" content="2022-04-30 00:00:00 +0000 UTC"><script src=https://identity.netlify.com/v1/netlify-identity-widget.js></script></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>Miguel Fernandez Arce</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/drafts/pages/about>About</a></li><li><a href=/drafts/posts>Posts</a></li><li><a href=https://github.com/muit>GitHub</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://muit.xyz/drafts/posts/text-and-binary-at-once/>Text and Binary serialization at once</a></h2><div class=post-content><img style=width:100% src=/Assets/Img/Covers/chips.png><br>You see, I like to spend my free time building a programming language called [**Rift**](https://github.com/PipeRift/rift).<p>This surely wasn&rsquo;t ambitious enough, so early on I designed it to be based on data files.</p><p>This basically means code files are not saved as text, but stored as data in some format like json or binary, and interpreted by an editor/compiler later.
Of course, there are many advantages and some disadvantages to this approach, but I will only focus on the serialization aspect of it today.</p><p>I am going to describe what the serialization architecture looks like in Rift, and why I got there.
I believe it is interesting to play with, and maybe it can bring some new ideas to the topic.</p><h1 id=what-is-serialization>What is serialization?</h1><p>In short, Serialization is simply transforming memory into text or binary formats.</p><p>Even for those that are familiar with serialization it is important to remember this.
Many serialization libraries try to do too much but fail to do the basics well and that difuses the term.</p><h2 id=what-is-it-for>What is it for?</h2><p>Serialization can have many uses.
I suppose the most frequent ones are to store into files, or send over the network.</p><p><a href=https://github.com/PipeRift/rift><strong>Rift</strong></a>, for example, uses serialization for files primarily but also for transactions (like Undo/Redo in editor).</p><p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;sketch</p><p>What are the pieces?
<img src=/Img/serialization-elements.png alt=serialization-elements></p><p>There are two main elements:</p><ul><li><strong>Contexts</strong>: Facilitates serialization of supported types, and represents a single instance of serialization</li><li><strong>Format</strong>: Receives basic data structures to be stored into the final data according to the format it implements</li></ul><p>It is scoped.</p><p>Can have arrays, objects or native values.</p><br><p>Consider having a look at
<a href=https://github.com/PipeRift/rift><strong>Rift</strong></a>, which is a visual compiled programming language.
It would be incredibly helpful to get your ideas, feedback and/or code contributions!</p></div></article><hr><div class=post-info></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2023</span>
<span><a href=https://github.com/muit rel=noopener>Miguel Fernandez Arce</a></span>
<span><a href=https://muit.xyz/drafts/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span><a href=https://github.com/piperift>Piperift</a></span></div></div></footer></div><script type=text/javascript src=/drafts/bundle.min.73c7c714cf43f7ae79f853c64ef05a1697c65bea136f1f8b34951a913a9c586631efbfd5bd0f3b9dd71d0f79839fa6983fb87b4d4a8d209e3c174c41c0367f7b.js integrity="sha512-c8fHFM9D9655+FPGTvBaFpfGW+oTbx+LNJUakTqcWGYx77/VvQ87ndcdD3mDn6aYP7h7TUqNIJ48F0xBwDZ/ew=="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D66MJWXCKK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-D66MJWXCKK",{anonymize_ip:!1})}</script><script>window.netlifyIdentity&&window.netlifyIdentity.on("init",e=>{e||window.netlifyIdentity.on("login",()=>{document.location.href="/admin/"})})</script></body></html>